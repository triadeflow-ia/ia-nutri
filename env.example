# ===========================================
# CONFIGURAÇÕES BÁSICAS
# ===========================================

# Ambiente de execução
NODE_ENV=production

# Porta do servidor
PORT=1337

# Nível de log (error, warn, info, debug)
LOG_LEVEL=info

# ===========================================
# CONFIGURAÇÕES DO REDIS
# ===========================================

# URL do Redis (para Docker use: redis://redis:6379)
REDIS_URL=redis://localhost:6379

# Senha do Redis
REDIS_PASSWORD=sua_senha_redis_aqui

# ===========================================
# CONFIGURAÇÕES DO OPENAI
# ===========================================

# Chave da API do OpenAI
OPENAI_API_KEY=sk-sua_chave_openai_aqui

# Modelo do OpenAI (opcional)
OPENAI_MODEL=gpt-3.5-turbo

# ===========================================
# CONFIGURAÇÕES DO WHATSAPP
# ===========================================

# Token de acesso do WhatsApp Business API
WHATSAPP_TOKEN=seu_token_whatsapp_aqui

# Token de verificação do webhook
WHATSAPP_VERIFY_TOKEN=seu_verify_token_aqui

# URL do webhook do WhatsApp (opcional)
WHATSAPP_WEBHOOK_URL=https://seu-dominio.com/webhook

# ===========================================
# CONFIGURAÇÕES DO STRIPE
# ===========================================

# Chave secreta do Stripe
STRIPE_SECRET_KEY=sk_test_sua_chave_stripe_aqui

# Chave pública do Stripe (opcional)
STRIPE_PUBLISHABLE_KEY=pk_test_sua_chave_publica_aqui

# Webhook secret do Stripe
STRIPE_WEBHOOK_SECRET=whsec_seu_webhook_secret_aqui

# URL do webhook do Stripe (opcional)
STRIPE_WEBHOOK_URL=https://seu-dominio.com/stripe/webhook

# ===========================================
# CONFIGURAÇÕES DE NOTIFICAÇÕES
# ===========================================

# URL do webhook para notificações (opcional)
NOTIFICATION_WEBHOOK_URL=https://seu-dominio.com/notifications

# ===========================================
# CONFIGURAÇÕES DE APIs EXTERNAS
# ===========================================

# Chave da API do USDA (opcional)
USDA_API_KEY=sua_chave_usda_aqui

# Configurações do Edamam (opcional)
EDAMAM_APP_ID=seu_app_id_edamam_aqui
EDAMAM_APP_KEY=sua_app_key_edamam_aqui

# ===========================================
# CONFIGURAÇÕES DE SEGURANÇA
# ===========================================

# Chave secreta para JWT (opcional)
JWT_SECRET=sua_chave_jwt_secreta_aqui

# Chave para criptografia (opcional)
ENCRYPTION_KEY=sua_chave_criptografia_aqui

# ===========================================
# CONFIGURAÇÕES DE RATE LIMITING
# ===========================================

# Limite de requisições por minuto (opcional)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# CONFIGURAÇÕES DE MONITORAMENTO
# ===========================================

# URL do webhook para monitoramento (opcional)
MONITORING_WEBHOOK_URL=https://seu-dominio.com/monitoring

# Intervalo de health check em segundos (opcional)
HEALTH_CHECK_INTERVAL=30

# ===========================================
# CONFIGURAÇÕES DE DOCKER
# ===========================================

# Nome do container (opcional)
CONTAINER_NAME=ia-atendimento-bot

# Tag da imagem Docker (opcional)
DOCKER_IMAGE_TAG=latest

# ===========================================
# CONFIGURAÇÕES DE NGINX
# ===========================================

# Domínio do servidor (opcional)
SERVER_DOMAIN=seu-dominio.com

# Certificado SSL (opcional)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ===========================================
# CONFIGURAÇÕES DE BACKUP
# ===========================================

# Diretório de backup (opcional)
BACKUP_DIR=/var/backups/ia-atendimento

# Intervalo de backup em horas (opcional)
BACKUP_INTERVAL_HOURS=24

# ===========================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# ===========================================

# Habilitar logs detalhados (apenas desenvolvimento)
DEBUG=false

# Habilitar hot reload (apenas desenvolvimento)
HOT_RELOAD=false

# ===========================================
# WHATSAPP TEMPLATES
# ===========================================

# IDs dos templates aprovados no Facebook Business Manager
WHATSAPP_TEMPLATE_WELCOME=welcome_nutrition_assistant
WHATSAPP_TEMPLATE_CONSENT=consent_data_collection  
WHATSAPP_TEMPLATE_ANAMNESE=nutrition_assessment

# ===========================================
# INSTRUÇÕES DE USO
# ===========================================

# 1. Copie este arquivo para .env
#    cp env.example .env

# 2. Configure as variáveis OBRIGATÓRIAS:
#    - OPENAI_API_KEY (obrigatório)
#    - GRAPH_API_TOKEN (obrigatório) 
#    - WEBHOOK_VERIFY_TOKEN (obrigatório)

# 3. Configure as variáveis RECOMENDADAS:
#    - REDIS_URL e REDIS_PASSWORD (para produção)
#    - STRIPE_SECRET_KEY (se usar pagamentos)
#    - WHATSAPP_TEMPLATE_* (IDs dos templates aprovados)

# 4. Para desenvolvimento, mantenha as configurações padrão
# 5. Para produção, configure todas as variáveis de segurança
# 6. Nunca commite o arquivo .env no repositório

# ===========================================
# TEMPLATES - COMO OBTER OS IDs
# ===========================================

# 1. Acesse: https://business.facebook.com
# 2. Vá em "WhatsApp Business API" > "Message Templates"
# 3. Crie os templates:
#    - welcome_nutrition_assistant (boas-vindas)
#    - consent_data_collection (consentimento)
#    - nutrition_assessment (anamnese)
# 4. Aguarde aprovação (24-48h)
# 5. Copie os IDs e cole nas variáveis acima

# 7. Execute o script de validação antes do deploy:
#    node validate-app.js